const body=document.querySelector("body"),html=document.querySelector("html"),aside=document.querySelector("aside"),menu=document.querySelectorAll(".aside, .aside__burger, body"),header=document.querySelector(".header"),imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure");imageAspectRatio.forEach(e=>{const t=e.querySelector("img"),s=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==s.position&&e.style.setProperty("--padding-aspect-ratio",Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});let asideTimeout,dropDownArray=[];body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".aside__burger")&&menu.forEach(e=>{e.classList.toggle("is-mobile-menu-active")});const s=t(".drop-down__target");if(s){const e=s.closest(".drop-down");e.classList.contains("is-active")?document.querySelectorAll(".drop-down.is-active").forEach(e=>{e.classList.remove("is-active")}):(document.querySelectorAll(".drop-down.is-active").forEach(e=>{e.classList.remove("is-active")}),e.classList.add("is-active"))}else t(".drop-down")&&!t(".drop-down__list a")||document.querySelectorAll(".drop-down.is-active").forEach(e=>{e.classList.remove("is-active")});t(".aside__slide-toggle")&&(clearTimeout(asideTimeout),aside.querySelector(".aside__body--wrapper").classList.add("fade-out-2"),setTimeout(()=>{aside.querySelector(".aside__body--wrapper").classList.remove("fade-in-2")},0),setTimeout(()=>{aside.classList.toggle("is-min"),aside.classList.contains("is-min")?localStorage.setItem("ic11-aside-min",!0):localStorage.setItem("ic11-aside-min",!1),aside.classList.contains("is-min")?(aside.classList.add("is-min-2"),setTimeout(()=>{aside.querySelector(".aside__body--wrapper").classList.add("fade-in-2"),setTimeout(()=>{aside.querySelector(".aside__body--wrapper").classList.remove("fade-out-2")},0)},500)):asideTimeout=setTimeout(()=>{aside.classList.toggle("is-min-2"),aside.querySelector(".aside__body--wrapper").classList.add("fade-in-2"),setTimeout(()=>{aside.querySelector(".aside__body--wrapper").classList.remove("fade-out-2")},0)},500)},300));const o=t(".aside__nav button");if(o&&(o.classList.toggle("is-active"),o.classList.contains("is-active"))){o.nextElementSibling.querySelector("div")}const i=t(".section-table__search--submit");i?window.innerWidth<992&&!i.parentElement.classList.contains("is-active")&&!i.parentElement.classList.contains("is-alternative")&&(e.preventDefault(),i.parentElement.classList.add("is-active")):document.querySelectorAll(".section-table__search.is-active").forEach(e=>{e.classList.remove("is-active")});const c=t(".drop-down-2");if(c)if(c.classList.contains("is-active-drop-down"))document.querySelectorAll(".drop-down-2__block.is-active").forEach(e=>{setTimeout(()=>{e.classList.remove("is-active")},0),e.classList.add("is-hidden")}),document.querySelectorAll(".drop-down-2.is-active-drop-down").forEach(e=>{e.classList.remove("is-active-drop-down"),e.closest(".section-table__row-block")&&e.closest(".section-table__row-block").classList.remove("on-active")});else{if(document.querySelectorAll(".drop-down-2.is-active-drop-down").forEach(e=>{e.classList.remove("is-active-drop-down"),e.closest(".section-table__row-block")&&e.closest(".section-table__row-block").classList.remove("on-active")}),c.classList.add("is-active-drop-down"),c.closest(".section-table__row-block")&&c.closest(".section-table__row-block").classList.add("on-active"),document.querySelectorAll(".drop-down-2__block.is-active").forEach(e=>{setTimeout(()=>{e.classList.add("is-hidden")},0),e.classList.remove("is-active")}),c.querySelector(".drop-down-2__block")){const e=c.querySelector(".drop-down-2__block");e.setAttribute("id","drop-down-block-"+dropDownArray.length),c.setAttribute("data-drop-down-target","drop-down-block-"+dropDownArray.length),dropDownArray.push(e),body.append(e)}const t=document.querySelector("#"+c.dataset.dropDownTarget);e.pageY+t.offsetHeight>window.innerHeight?t.style.setProperty("--y",e.pageY-t.offsetHeight+"px"):t.style.setProperty("--y",e.pageY+"px"),e.pageX+t.offsetWidth>windowSize?windowSize>992?t.style.setProperty("--x",window.innerWidth-t.offsetWidth-20+"px"):t.style.setProperty("--x",window.innerWidth-t.offsetWidth+40+"px"):t.style.setProperty("--x",Math.max(100,Math.min(window.innerWidth-70-20,e.pageX))+"px"),setTimeout(()=>{t.classList.remove("is-hidden"),setTimeout(()=>{t.classList.add("is-active")},0)},0)}else document.querySelector(".drop-down-2__block.is-active")&&(document.querySelectorAll(".drop-down-2__block.is-active").forEach(e=>{setTimeout(()=>{e.classList.remove("is-active")},0),e.classList.add("is-hidden")}),document.querySelectorAll(".drop-down-2.is-active-drop-down").forEach(e=>{e.classList.remove("is-active-drop-down"),e.closest(".section-table__row-block")&&e.closest(".section-table__row-block").classList.remove("on-active")}));const a=t(".password-input__visible-toggle");if(a){const e=a.parentElement.querySelector(".password-input");e&&(a.classList.toggle("is-active"),a.classList.contains("is-active")?e.type="text":e.type="password")}const r=t(".notification__target.is-has-notice");r&&r.classList.remove("is-has-notice");const l=t(".down-sidebar__arrow-target, .down-sidebar__comments-target, .down-sidebar__total-target");if(l){const e=l.closest(".down-sidebar"),t=e.querySelector(".down-sidebar__target-place"),s=e.querySelector(".down-sidebar__row");e.classList.toggle("is-active-2"),e.classList.contains("is-active-2")?(s.classList.remove("fade-out"),t.style.removeProperty("--opacity"),t.classList.add("fade-out"),t.classList.remove("fade-in"),setTimeout(()=>{e.classList.toggle("is-active"),s.style.setProperty("--opacity",0),s.classList.add("fade-in"),s.classList.remove("fade-out")},300)):e.classList.contains("is-active-2")||(t.classList.remove("fade-out"),s.style.removeProperty("--opacity"),s.classList.add("fade-out"),setTimeout(()=>{t.style.setProperty("--opacity",0),e.classList.toggle("is-active"),t.classList.add("fade-in"),t.classList.remove("fade-out")},300))}const n=t(".down-sidebar__chat-item--answer");if(n){const e=n.closest(".down-sidebar__chat").querySelector(".down-sidebar__chat-user-panel input"),t=n.closest(".down-sidebar__chat-item");e.value="@"+t.dataset.author+". ",e.focus()}const d=t(".add-is-active");if(d){const e=d.closest(".block-for-is-active");e.children[0].style.removeProperty("--opacity"),e.children[0].style.removeProperty("--visibility"),e.children[0].classList.add("fade-out"),setTimeout(()=>{e.children[0].classList.remove("fade-in"),e.children[1].classList.remove("fade-out")},0),setTimeout(()=>{e.classList.add("is-active"),e.children[0].classList.remove("fade-out"),e.children[0].style.removeProperty("--opacity"),e.children[0].style.removeProperty("--visibility"),e.children[1].style.setProperty("--opacity",0),e.children[1].style.setProperty("--visibility","hidden"),e.children[1].classList.add("fade-in")},300)}const u=t(".remove-is-active");if(u){const e=u.closest(".block-for-is-active");e.children[1].style.removeProperty("--opacity"),e.children[1].style.removeProperty("--visibility"),e.children[1].classList.add("fade-out"),setTimeout(()=>{e.classList.remove("is-active"),e.children[1].classList.remove("fade-out"),e.children[1].style.removeProperty("--opacity"),e.children[1].style.removeProperty("--visibility"),e.children[0].style.setProperty("--opacity",0),e.children[0].style.setProperty("--visibility","hidden"),e.children[0].classList.add("fade-in")},300)}const p=t("[data-add-active-change-title]");if(p){const e=document.querySelector("#"+p.dataset.addActiveChangeTitle);e&&e.classList.add("is-active")}const m=t("[data-remove-active-change-title]");if(m){const e=document.querySelector("#"+m.dataset.removeActiveChangeTitle);e&&e.classList.remove("is-active")}const y=t(".message__close");if(y){const e=y.closest(".message");e.classList.add("fade-out"),setTimeout(()=>{e.remove()},300)}const h=t(".summary-item__target--toggle");if(h){const e=h.closest(".summary-item");e.classList.contains("is-active")?document.querySelectorAll(".summary-item.is-active").forEach(e=>{e.classList.remove("is-active")}):(document.querySelectorAll(".summary-item.is-active").forEach(e=>{e.classList.remove("is-active")}),e.classList.add("is-active"))}const v=t(".summary-item__user--favorite");v&&v.classList.toggle("is-active")}));const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};function getCoords(e){let t=e.getBoundingClientRect();return{top:t.top+window.scrollX,right:t.right+window.scrollY,bottom:t.bottom+window.scrollX,left:t.left+window.scrollY}}body.addEventListener("pointerover",(function(e){if("desktop"==getDeviceType()&&windowSize>992){const t=e.target.closest(".section-table__row");if(t){t.classList.add("is-active");const s=t.closest(".section-table__main").querySelectorAll(".section-table__row"),o=t.querySelectorAll(".section-table__param");let i=0;o.forEach((t,s)=>{t==e.target&&(i=s)}),s.forEach(e=>{e!=t&&(e.classList.remove("is-active"),e.closest(".section-table__row-block")&&e.closest(".section-table__row-block").classList.remove("on-hover")),e.querySelectorAll(".section-table__param").forEach((e,t)=>{t==i?e.classList.add("is-active"):e.classList.remove("is-active")})}),t.closest(".section-table__row-block")&&t.closest(".section-table__row-block").classList.add("on-hover")}}})),document.querySelectorAll(".section-table__main").forEach((e,t)=>{e.setAttribute("id","section-table-"+(t+1));const s=e.querySelectorAll(".section-table__head-th");let o="";s.forEach((e,s)=>{e.classList.contains("is-accent-col")&&(o+=`#section-table-${t+1} .section-table__param:nth-child(${s+1}) {background: var(--col-accent);}`)}),e.insertAdjacentHTML("afterbegin",`<style>${o}</style>`);const i=e.querySelector(".section-table__body");e.querySelectorAll(".section-table__row").forEach((e,t)=>{t%2&&e.classList.add("is-even-mode")}),i.addEventListener("pointerleave",(function(t){if("desktop"==getDeviceType()){const t=e.querySelectorAll(".section-table__row.is-active"),s=e.querySelectorAll(".section-table__param.is-active");t[0]&&(t.forEach(e=>{e.classList.remove("is-active"),e.closest(".section-table__row-block")&&e.closest(".section-table__row-block").classList.remove("on-hover")}),s.forEach((e,t)=>{e.classList.remove("is-active")}))}}))}),document.querySelectorAll(".input-number").forEach(e=>{e.addEventListener("input",(function(t){let s=e.value.replace(/[\D]+/g,"");"deleteContentBackward"==t.inputType&&(s=s.slice(0,-1)),e.value=s,s&&(e.value=s+" "+e.dataset.addText)}))});let windowSize=0;function resize(){html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),document.querySelectorAll(".drop-down__block").forEach(e=>{getCoords(e).right>window.innerWidth&&!e.closest(".drop-down").classList.contains("is-right-default")?e.closest(".drop-down").classList.add("is-right"):e.closest(".drop-down").classList.remove("is-right")}),windowSize=window.innerWidth,document.querySelectorAll(".section-table__main").forEach((e,t)=>{e.querySelectorAll(".section-table__row-block--list").forEach(e=>{const t=e.closest(".section-table__row-block");t.style.setProperty("--height",e.offsetHeight+"px"),t.style.setProperty("--negative-height",-e.offsetHeight+"px")})})}resize(),window.addEventListener("resize",resize);const downSidebar=document.querySelector(".down-sidebar");(aside||downSidebar)&&setInterval(()=>{aside&&html.style.setProperty("--aside-width",aside.offsetWidth+"px"),downSidebar&&html.style.setProperty("--down-sidebar-height",downSidebar.offsetHeight+"px")},100),document.querySelectorAll(".section-table__change-date--slider, .section-table__change-full-date--slider").forEach(e=>{e.querySelectorAll(".splide__slide");const t=new Splide(e,{perPage:3,perMove:3,pagination:!1,focus:"center",gap:0});t.on("mounted",(function(){t.root.querySelectorAll(".splide__slide").forEach((e,s)=>{e.querySelector("input").checked&&t.go(s)})})),t.mount()}),document.querySelectorAll(".custom-select").forEach(e=>{new SlimSelect({select:e,settings:{showSearch:!1}})}),document.querySelectorAll(".popup-checkbox-list").forEach(e=>{const t=e.querySelectorAll("input"),s=document.querySelector("#"+e.dataset.checkedListId);t.forEach(e=>{e.addEventListener("change",(function(o){let i=!1;e.classList.contains("all-check")?e.checked?(i=!0,t.forEach(e=>{e.classList.contains("all-check")||(e.checked=!0)})):t.forEach(e=>{e.classList.contains("all-check")||(e.checked=!1)}):t.forEach(e=>{e.classList.contains("all-check")&&(e.checked=!1)});let c=0,a=!0;i?(a=!1,s.title=s.dataset.allText,s.textContent=s.dataset.allText):t.forEach(e=>{if(e.checked){a=!1;const t=e.nextElementSibling.nextElementSibling.textContent;0==c?(s.title=t.trim(),s.textContent=t.trim()):(s.textContent+=", "+t.trim(),s.title+=", "+t.trim()),c++}}),a&&(s.title=s.dataset.noneText,s.textContent=s.dataset.noneText)}))})}),document.querySelectorAll(".section-table__change-full-date").forEach(e=>{const t=e.querySelector(".section-table__change-full-date--target span"),s=e.querySelector(".section-table__change-full-date--months"),o=e.querySelector(".section-table__change-full-date--slider");let i=s.querySelector("input:checked").nextElementSibling.textContent,c=o.querySelector("input:checked").nextElementSibling.textContent;s.querySelectorAll("input").forEach(e=>{e.addEventListener("change",(function(s){e.checked&&(i=e.nextElementSibling.textContent,t.textContent=i+", "+c)}))}),o.querySelectorAll("input").forEach(e=>{e.addEventListener("change",(function(s){e.checked&&(c=e.nextElementSibling.textContent,t.textContent=i+", "+c)}))})});const dateInputs=document.querySelectorAll(".date-input");function Popup(e){let t=document.querySelector("body"),s=document.querySelector("html"),o="object"==typeof e&&!!e.saveID,i=!0,c=!0;const a=function(e,c){if(i){i=!1;let a=document.querySelector(e);if(!a)return new Error(`Not found "${e}"`);a.classList.contains("popup")&&(document.querySelector(`[href="${e}"]`)&&document.querySelector(`[href="${e}"]`).classList.add("is-active-popup"),a.style.display="flex",t.classList.remove("is-popup-active"),s.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("is-popup-active"),o&&!a.classList.contains("is-sub")&&history.pushState("","",e),setTimeout(()=>{c?(a.classList.add("is-transition-none"),a.classList.add("is-active"),i=!0):(a.classList.add("is-active"),setTimeout(()=>{i=!0},300))},0))}},r=function(e){if(c){let i;c=!1,i="string"==typeof e?document.querySelector(e):e.closest(".popup"),i.classList.contains("is-transition-none")&&i.classList.remove("is-transition-none"),setTimeout(()=>{function e(){const e=document.querySelectorAll(".popup.is-active");e.length<1&&(t.classList.remove("is-popup-active"),s.style.setProperty("--popup-padding","0px")),o&&!i.classList.contains("is-sub")&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),e[e.length-1]&&history.pushState("","","#"+e[e.length-1].getAttribute("id"))),c=!0,i.style.display="none"}i.classList.remove("is-active"),document.querySelector(`.is-active-popup[href="#${i.getAttribute("id")}"]`)&&document.querySelector(`.is-active-popup[href="#${i.getAttribute("id")}"]`).classList.remove("is-active-popup"),setTimeout(()=>{e()},300)},0)}};return{open:function(e){a(e)},close:function(e){r(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let s=e.closest(".open-popup");s&&(t.preventDefault(),a(s.getAttribute("href")));let o=e.closest(".popup-close");o&&r(o)})),t.addEventListener("keyup",(function(e){27==e.code&&document.querySelector(".popup.is-active")&&r(document.querySelector(".popup.is-active"))})),o){let e=new URL(window.location);e.hash&&a(e.hash,!0)}}}}dateInputs.forEach(e=>{new Datepicker(e,{todayButton:!0})}),document.querySelectorAll(".section-table__time--block").forEach(e=>{const t=e.querySelector(".from-hours"),s=e.querySelector(".from-minutes"),o=e.querySelector(".to-hours"),i=e.querySelector(".to-minutes");let c=new Date;e.querySelectorAll(".custom-select").forEach(e=>{e.addEventListener("change",(function(e){let a=new Date(c.getFullYear(),c.getMonth(),c.getDate(),Number(t.value),Number(s.value),0,0),r=new Date(c.getFullYear(),c.getMonth(),c.getDate(),Number(o.value),Number(i.value),0,0),l=r-a;l<=0&&(r=new Date(c.getFullYear(),c.getMonth(),c.getDate()+1,Number(o.value),Number(i.value),0,0)),l=r-a;const n=Math.floor(l/1e3/60/60)%24;document.querySelectorAll(".hours-input").forEach(e=>{e.value=n+" "+e.dataset.addText})}))})}),window.addEventListener("load",(function(e){body.classList.add("is-init")})),document.querySelectorAll(".copy-btn").forEach(e=>{new ClipboardJS(e).on("success",(function(t){e.parentElement.querySelector(".copy-input").select()}))});const popup=new Popup({saveID:!0});popup.init();