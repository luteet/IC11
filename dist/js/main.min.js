const body=document.querySelector("body"),html=document.querySelector("html"),aside=document.querySelector("aside"),menu=document.querySelectorAll(".aside, .aside__burger, body"),header=document.querySelector(".header"),imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure");imageAspectRatio.forEach(e=>{const t=e.querySelector("img"),o=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==o.position&&e.style.setProperty("--padding-aspect-ratio",Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});let asideTimeout,dropDownArray=[];document.querySelectorAll(".drop-down-2").forEach((e,t)=>{const o=e.querySelector(".drop-down-2__block");o.setAttribute("id","drop-down-block-"+(t+1)),e.setAttribute("data-drop-down-target","drop-down-block-"+(t+1)),dropDownArray.push(o),body.append(o),setTimeout(()=>{o.style.removeProperty("--duration")},1e3)}),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".aside__burger")&&menu.forEach(e=>{e.classList.toggle("is-mobile-menu-active")});const o=t(".drop-down__target");if(o){const e=o.closest(".drop-down");e.classList.contains("is-active")?document.querySelectorAll(".drop-down.is-active").forEach(e=>{e.classList.remove("is-active")}):(document.querySelectorAll(".drop-down.is-active").forEach(e=>{e.classList.remove("is-active")}),e.classList.add("is-active"))}else t(".drop-down")&&!t(".drop-down__list a")||document.querySelectorAll(".drop-down.is-active").forEach(e=>{e.classList.remove("is-active")});t(".aside__slide-toggle")&&(clearTimeout(asideTimeout),aside.querySelector(".aside__body--wrapper").classList.add("fade-out"),setTimeout(()=>{aside.classList.toggle("is-min"),aside.classList.contains("is-min")?localStorage.setItem("ic11-aside-min",!0):localStorage.setItem("ic11-aside-min",!1),aside.classList.contains("is-min")?(aside.classList.add("is-min-2"),setTimeout(()=>{aside.querySelector(".aside__body--wrapper").classList.remove("fade-out")},500)):asideTimeout=setTimeout(()=>{aside.classList.toggle("is-min-2"),aside.querySelector(".aside__body--wrapper").classList.remove("fade-out")},500)},300));const s=t(".section-table__search--submit");s?window.innerWidth<992&&!s.parentElement.classList.contains("is-active")&&!s.parentElement.classList.contains("is-alternative")&&(e.preventDefault(),s.parentElement.classList.add("is-active")):document.querySelectorAll(".section-table__search.is-active").forEach(e=>{e.classList.remove("is-active")});const i=t(".drop-down-2");if(i){if(document.querySelectorAll(".drop-down-2.is-active-drop-down").forEach(e=>{e.classList.remove("is-active-drop-down"),e.closest(".section-table__row-block")&&e.closest(".section-table__row-block").classList.remove("on-active")}),i.classList.add("is-active-drop-down"),i.closest(".section-table__row-block")&&i.closest(".section-table__row-block").classList.add("on-active"),document.querySelectorAll(".drop-down-2__block.is-active").forEach(e=>{setTimeout(()=>{e.classList.add("is-hidden")},0),e.classList.remove("is-active")}),i.querySelector(".drop-down-2__block")){const e=i.querySelector(".drop-down-2__block");e.setAttribute("id","drop-down-block-"+dropDownArray.length),dropDownArray.push(e)}const t=document.querySelector("#"+i.dataset.dropDownTarget);t.style.setProperty("--x",Math.max(100,Math.min(window.innerWidth-70-20,e.pageX))+"px"),e.pageY+t.offsetHeight>window.innerHeight?t.style.setProperty("--y",e.pageY-t.offsetHeight+"px"):t.style.setProperty("--y",e.pageY+"px"),setTimeout(()=>{t.classList.remove("is-hidden"),setTimeout(()=>{t.classList.add("is-active")},0)},0)}else document.querySelector(".drop-down-2__block.is-active")&&(document.querySelectorAll(".drop-down-2__block.is-active").forEach(e=>{setTimeout(()=>{e.classList.add("is-hidden")},0),e.classList.remove("is-active")}),document.querySelectorAll(".drop-down-2.is-active-drop-down").forEach(e=>{e.classList.remove("is-active-drop-down"),e.closest(".section-table__row-block")&&e.closest(".section-table__row-block").classList.remove("on-active")}));const c=t(".password-input__visible-toggle");if(c){const e=c.parentElement.querySelector(".password-input");e&&(c.classList.toggle("is-active"),c.classList.contains("is-active")?e.type="text":e.type="password")}const n=t(".notification__target.is-has-notice");n&&n.classList.remove("is-has-notice");const r=t(".down-sidebar__arrow-target, .down-sidebar__comments-target, .down-sidebar__total-target");if(r){r.closest(".down-sidebar").classList.toggle("is-active")}const l=t(".down-sidebar__chat-item--answer");if(l){const e=l.closest(".down-sidebar__chat").querySelector(".down-sidebar__chat-user-panel input"),t=l.closest(".down-sidebar__chat-item");e.value="@"+t.dataset.author+". ",e.focus()}}));const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};function getCoords(e){let t=e.getBoundingClientRect();return{top:t.top+window.scrollX,right:t.right+window.scrollY,bottom:t.bottom+window.scrollX,left:t.left+window.scrollY}}body.addEventListener("pointerover",(function(e){if("desktop"==getDeviceType()&&windowSize>992){const t=e.target.closest(".section-table__row");if(t){t.classList.add("is-active");const o=t.closest(".section-table__main").querySelectorAll(".section-table__row"),s=t.querySelectorAll(".section-table__param");let i=0;s.forEach((t,o)=>{t==e.target&&(i=o)}),o.forEach(e=>{e!=t&&(e.classList.remove("is-active"),e.closest(".section-table__row-block")&&e.closest(".section-table__row-block").classList.remove("on-hover")),e.querySelectorAll(".section-table__param").forEach((e,t)=>{t==i?e.classList.add("is-active"):e.classList.remove("is-active")})}),t.closest(".section-table__row-block")&&t.closest(".section-table__row-block").classList.add("on-hover")}}})),document.querySelectorAll(".section-table__main").forEach((e,t)=>{e.setAttribute("id","section-table-"+(t+1));const o=e.querySelectorAll(".section-table__head-th");let s="";o.forEach((e,o)=>{e.classList.contains("is-accent-col")&&(s+=`#section-table-${t+1} .section-table__param:nth-child(${o+1}) {background: var(--col-accent);}`)}),e.insertAdjacentHTML("afterbegin",`<style>${s}</style>`);const i=e.querySelector(".section-table__body");e.querySelectorAll(".section-table__row").forEach((e,t)=>{t%2&&e.classList.add("is-even-mode")}),i.addEventListener("pointerleave",(function(t){if("desktop"==getDeviceType()){const t=e.querySelectorAll(".section-table__row.is-active"),o=e.querySelectorAll(".section-table__param.is-active");t[0]&&(t.forEach(e=>{e.classList.remove("is-active"),e.closest(".section-table__row-block")&&e.closest(".section-table__row-block").classList.remove("on-hover")}),o.forEach((e,t)=>{e.classList.remove("is-active")}))}}))});let windowSize=0;function resize(){html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),document.querySelectorAll(".drop-down__block").forEach(e=>{getCoords(e).right>window.innerWidth&&!e.closest(".drop-down").classList.contains("is-right-default")?e.closest(".drop-down").classList.add("is-right"):e.closest(".drop-down").classList.remove("is-right")}),windowSize=window.innerWidth,document.querySelectorAll(".section-table__main").forEach((e,t)=>{e.querySelectorAll(".section-table__row-block--list").forEach(e=>{const t=e.closest(".section-table__row-block");t.style.setProperty("--height",e.offsetHeight+"px"),t.style.setProperty("--negative-height",-e.offsetHeight+"px")})})}resize(),window.addEventListener("resize",resize);const downSidebar=document.querySelector(".down-sidebar");function Popup(e){let t=document.querySelector("body"),o=document.querySelector("html"),s="object"==typeof e&&!!e.saveID,i=!0,c=!0;const n=function(e,c){if(i){i=!1;let n=document.querySelector(e);if(!n)return new Error(`Not found "${e}"`);n.classList.contains("popup")&&(document.querySelector(`[href="${e}"]`)&&document.querySelector(`[href="${e}"]`).classList.add("is-active-popup"),n.style.display="flex",t.classList.remove("is-popup-active"),o.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("is-popup-active"),s&&!n.classList.contains("is-sub")&&history.pushState("","",e),setTimeout(()=>{c?(n.classList.add("is-transition-none"),n.classList.add("is-active"),i=!0):(n.classList.add("is-active"),setTimeout(()=>{i=!0},300))},0))}},r=function(e){if(c){let i;c=!1,i="string"==typeof e?document.querySelector(e):e.closest(".popup"),i.classList.contains("is-transition-none")&&i.classList.remove("is-transition-none"),setTimeout(()=>{function e(){const e=document.querySelectorAll(".popup.is-active");e.length<1&&(t.classList.remove("is-popup-active"),o.style.setProperty("--popup-padding","0px")),s&&!i.classList.contains("is-sub")&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),e[e.length-1]&&history.pushState("","","#"+e[e.length-1].getAttribute("id"))),c=!0,i.style.display="none"}i.classList.remove("is-active"),document.querySelector(`.is-active-popup[href="#${i.getAttribute("id")}"]`)&&document.querySelector(`.is-active-popup[href="#${i.getAttribute("id")}"]`).classList.remove("is-active-popup"),setTimeout(()=>{e()},300)},0)}};return{open:function(e){n(e)},close:function(e){r(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let o=e.closest(".open-popup");o&&(t.preventDefault(),n(o.getAttribute("href")));let s=e.closest(".popup-close");s&&r(s)})),t.addEventListener("keyup",(function(e){27==e.code&&document.querySelector(".popup.is-active")&&r(document.querySelector(".popup.is-active"))})),s){let e=new URL(window.location);e.hash&&n(e.hash,!0)}}}}(aside||downSidebar)&&setInterval(()=>{aside&&html.style.setProperty("--aside-width",aside.offsetWidth+"px"),downSidebar&&html.style.setProperty("--down-sidebar-height",downSidebar.offsetHeight+"px")},100),document.querySelectorAll(".section-table__change-date--slider, .section-table__change-full-date--slider").forEach(e=>{e.querySelectorAll(".splide__slide");const t=new Splide(e,{perPage:3,perMove:3,pagination:!1,focus:"center",gap:0});t.on("mounted",(function(){t.root.querySelectorAll(".splide__slide").forEach((e,o)=>{e.querySelector("input").checked&&t.go(o)})})),t.mount()}),document.querySelectorAll(".custom-select").forEach(e=>{new SlimSelect({select:e,settings:{showSearch:!1}})}),document.querySelectorAll(".popup-checkbox-list").forEach(e=>{const t=e.querySelectorAll("input"),o=document.querySelector("#"+e.dataset.checkedListId);t.forEach(e=>{e.addEventListener("change",(function(s){let i=!1;e.classList.contains("all-check")?e.checked?(i=!0,t.forEach(e=>{e.classList.contains("all-check")||(e.checked=!0)})):t.forEach(e=>{e.classList.contains("all-check")||(e.checked=!1)}):t.forEach(e=>{e.classList.contains("all-check")&&(e.checked=!1)});let c=0,n=!0;i?(n=!1,o.title=o.dataset.allText,o.textContent=o.dataset.allText):t.forEach(e=>{if(e.checked){n=!1;const t=e.nextElementSibling.nextElementSibling.textContent;0==c?(o.title=t.trim(),o.textContent=t.trim()):(o.textContent+=", "+t.trim(),o.title+=", "+t.trim()),c++}}),n&&(o.title=o.dataset.noneText,o.textContent=o.dataset.noneText)}))})}),document.querySelectorAll(".section-table__change-full-date").forEach(e=>{const t=e.querySelector(".section-table__change-full-date--target span"),o=e.querySelector(".section-table__change-full-date--months"),s=e.querySelector(".section-table__change-full-date--slider");let i=o.querySelector("input:checked").nextElementSibling.textContent,c=s.querySelector("input:checked").nextElementSibling.textContent;o.querySelectorAll("input").forEach(e=>{e.addEventListener("change",(function(o){e.checked&&(i=e.nextElementSibling.textContent,t.textContent=i+", "+c)}))}),s.querySelectorAll("input").forEach(e=>{e.addEventListener("change",(function(o){e.checked&&(c=e.nextElementSibling.textContent,t.textContent=i+", "+c)}))})});const popup=new Popup({saveID:!0});popup.init();